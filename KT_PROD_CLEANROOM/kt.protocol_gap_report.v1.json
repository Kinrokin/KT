{
    "schema_id":  "kt.protocol_gap_report.v1",
    "version":  "1.0",
    "protocol_doc":  {
                         "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                         "git_sha":  "c75f1b6c161382047b65507a683437d7da464c38",
                         "sha256":  "31754279f7b2b6ef90a54d1d375f2312cc9bcc1785cf11ebc158c3c988236458"
                     },
    "generated_on_host":  {
                              "repo_root":  "D:\\\\KingsTheorem_Archive",
                              "generated_at_utc":  "2026-02-02T17:59:34Z",
                              "notes":  "Generated by Phase 1A inventory (mechanical diff)"
                          },
    "requirements":  [
                         {
                             "req_id":  "LAW-0",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  null
                                         },
                             "required":  "kt.constitution_pointer.v1 must reference docs/audit/KT_E2E_PROTOCOL.md as authoritative governance spec.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/exports/law/kt.constitution_pointer.v1.json",
                             "blocking":  true
                         },
                         {
                             "req_id":  "NN-1",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  15
                                         },
                             "required":  "Fail-closed is law: canonical lanes must halt on missing artifacts / schema mismatch / hash mismatch / probe disagreement.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/preflight_fl4.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "NN-2",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  19
                                         },
                             "required":  "Repo is frozen unless comprehensive audit passes (enforced change control for full-audit components).",
                             "present":  false,
                             "path":  null,
                             "blocking":  true
                         },
                         {
                             "req_id":  "NN-3",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  23
                                         },
                             "required":  "MRT-0 AdapterType.A-only: canonical runs must hard-fail if weight artifacts exist.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/preflight_fl4.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "NN-4",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  26
                                         },
                             "required":  "Preflight must run full battery and fail if repo dirty (git status --porcelain non-empty).",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/preflight_fl4.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "NN-5",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  29
                                         },
                             "required":  "Watcher/SPC are NCON: deterministic, non-learning, non-gating, not invokable by canonical runtime routing.",
                             "present":  false,
                             "path":  null,
                             "blocking":  true
                         },
                         {
                             "req_id":  "NN-6",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  33
                                         },
                             "required":  "Judge cross-corroboration: Watcher/SPC cannot alter verdict absent a non-social corroborator.",
                             "present":  false,
                             "path":  null,
                             "blocking":  true
                         },
                         {
                             "req_id":  "NN-7",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  37
                                         },
                             "required":  "Evidence provenance for Watcher/SPC scores: transcript offsets + per-line hashes + interaction-graph edges/hashes; replay-resolvable.",
                             "present":  false,
                             "path":  null,
                             "blocking":  true
                         },
                         {
                             "req_id":  "NN-8",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  41
                                         },
                             "required":  "Bolt-tighteners: monotonic drift scoring; watcher silence allowed; SPC probes quarantined/low-weight/non-blocking until promoted under law.",
                             "present":  false,
                             "path":  null,
                             "blocking":  true
                         },
                         {
                             "req_id":  "S1-PLATFORM",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  112
                                         },
                             "required":  "Supported platform matrix enforced (Linux + python scope) from AUDITS/FL4_SUPPORTED_PLATFORMS.json.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/preflight_fl4.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S1-ENVLOCK",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  117
                                         },
                             "required":  "Recommended: env lock artifact (kt.env_lock.v1) written by preflight and enforced (required/forbidden/value mismatch gates).",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/AUDITS/FL4_ENV_LOCK.json",
                             "blocking":  false
                         },
                         {
                             "req_id":  "S2-WEIGHTBAN",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  130
                                         },
                             "required":  "Canonical lane weight ban enforced by preflight/meta-evaluator; canonical job_dir and promoted_dir must be weight-free.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/preflight_fl4.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S2-LAB-NOPROMOTE",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  135
                                         },
                             "required":  "Lab-lane weight runs cannot promote into canonical promoted index (segregation by contract/tooling).",
                             "present":  false,
                             "path":  null,
                             "blocking":  true
                         },
                         {
                             "req_id":  "S3-MANIFESTS",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  143
                                         },
                             "required":  "Job-dir manifests are written and non-bypassable (kt.hash_manifest.v1 + kt.factory.job_dir_manifest.v1).",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/training/fl3_factory/manifests.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S3-META-REHASH",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  148
                                         },
                             "required":  "Meta-evaluator recomputes hashes and fails on mismatch.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/fl3_meta_evaluator.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S4-DETERMINISM-CONTRACT",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  155
                                         },
                             "required":  "Determinism contract and supported platforms exist as schema-bound audit artifacts.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/AUDITS/FL4_DETERMINISM_CONTRACT.json",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S4-CANARY-TOOL",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  158
                                         },
                             "required":  "Determinism canary tool exists and is enforced for promotion gating.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/fl4_determinism_canary.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S5-METABOLISM",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  164
                                         },
                             "required":  "Metabolic loop proof: controlled perturbations must change hash_manifest root while schemas remain valid.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/preflight_fl4.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S6-UTILITY-PACK",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  178
                                         },
                             "required":  "Utility pack is pinned and verified against eval_report.utility_pack_id/hash.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/fl3_meta_evaluator.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S7-METRIC-ONTOLOGY",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  188
                                         },
                             "required":  "Eval report v2 binds metrics/probes and has fail_on_disagreement policy; schema enforcement exists.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/04_PROD_TEMPLE_V2/src/schemas/fl3_factory_eval_report_v2_schema.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S8-PROMOTION-ATOMIC",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  198
                                         },
                             "required":  "Atomic promotion materializes content-addressed dir and atomically updates promoted_index.json; emits promotion report.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/fl4_promote.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S8-LEDGER-APPEND",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  208
                                         },
                             "required":  "Optional/known-gap: a separate promotion ledger append artifact exists.",
                             "present":  false,
                             "path":  null,
                             "blocking":  false
                         },
                         {
                             "req_id":  "S9-ANTI-THEATER",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  217
                                         },
                             "required":  "Anti-theater seeded fuzz tests exist and are executed in canonical preflight if required.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tests/fl3/test_fl4_anti_theater_laundering.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S10-PREFLIGHT-CMD",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  223
                                         },
                             "required":  "Canonical seal runner exists: python -m tools.verification.preflight_fl4 --out-dir \u003cOUT_DIR\u003e --registry-path \u003cRUNTIME_REGISTRY.json\u003e.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/preflight_fl4.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S10-PREFLIGHT-OUTPUTS",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  226
                                         },
                             "required":  "Preflight writes summary + job_dir evidence copy + copies of supported_platforms/determinism_contract/law_bundle + law_bundle_hash.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/preflight_fl4.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "S10-PREFLIGHT-SCHEMA",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  227
                                         },
                             "required":  "Schema kt.fl4.preflight_summary.v1 exists and is registered (the protocol calls preflight_summary.json schema-bound).",
                             "present":  false,
                             "path":  null,
                             "blocking":  true
                         },
                         {
                             "req_id":  "S10-PROMOTION-REPORT-SCHEMA",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  229
                                         },
                             "required":  "Schema kt.fl4.promotion_report.v1 exists and is registered (the protocol calls promotion_report.json schema-bound when present).",
                             "present":  false,
                             "path":  null,
                             "blocking":  true
                         },
                         {
                             "req_id":  "S10-GROWTH-GATE",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  55
                                         },
                             "required":  "Preflight executes growth_e2e_gate and includes growth_e2e_gate_report.json in the evidence pack.",
                             "present":  false,
                             "path":  "KT_PROD_CLEANROOM/tools/verification/preflight_fl4.py",
                             "blocking":  true
                         },
                         {
                             "req_id":  "R-A-REPLAY",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  241
                                         },
                             "required":  "Replay from receipts alone: deterministic replay of utility verdict, probe agreement verdict, and promotion decision verdict.",
                             "present":  false,
                             "path":  null,
                             "blocking":  true
                         },
                         {
                             "req_id":  "R-B-NO-HIDDEN-STATE",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  250
                                         },
                             "required":  "No hidden state audits: promotion does not consult outside allowed inputs; meta-evaluator offline-safe (no network/wall clock dependence for scoring).",
                             "present":  false,
                             "path":  null,
                             "blocking":  true
                         },
                         {
                             "req_id":  "R-C-CANONICALIZATION",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  254
                                         },
                             "required":  "Canonicalization tests exist for hash/job-dir manifests, promoted index, and eval numeric surfaces.",
                             "present":  false,
                             "path":  null,
                             "blocking":  true
                         },
                         {
                             "req_id":  "SCHEMA-FACTORY",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  269
                                         },
                             "required":  "Factory lane schema IDs listed in protocol exist as JSON Schemas in 04_PROD_TEMPLE_V2/schemas/fl3/.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/04_PROD_TEMPLE_V2/schemas/fl3/",
                             "blocking":  true
                         },
                         {
                             "req_id":  "SCHEMA-CONTRACTS",
                             "doc_ref":  {
                                             "path":  "docs/audit/KT_E2E_PROTOCOL.md",
                                             "line":  283
                                         },
                             "required":  "Contracts/law pins schema IDs listed in protocol exist as JSON Schemas in 04_PROD_TEMPLE_V2/schemas/fl3/.",
                             "present":  true,
                             "path":  "KT_PROD_CLEANROOM/04_PROD_TEMPLE_V2/schemas/fl3/",
                             "blocking":  true
                         }
                     ],
    "summary":  {
                    "total_requirements":  33,
                    "present_true":  20,
                    "present_false":  13,
                    "blocking_missing":  12,
                    "notes":  "Counts reflect the boolean fields in requirements[]"
                }
}
